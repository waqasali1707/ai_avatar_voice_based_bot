"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./components/Avatar.jsx":
/*!*******************************!*\
  !*** ./components/Avatar.jsx ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Avatar; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"../../node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @react-three/drei */ \"../../node_modules/@react-three/drei/index.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @react-three/fiber */ \"../../node_modules/@react-three/fiber/dist/react-three-fiber.esm.js\");\n/* harmony import */ var leva__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leva */ \"../../node_modules/leva/dist/leva.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three */ \"../../node_modules/three/build/three.module.js\");\n/* harmony import */ var _hooks_useSpeech__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useSpeech */ \"./hooks/useSpeech.jsx\");\n/* harmony import */ var _constants_facialExpressions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/facialExpressions */ \"./constants/facialExpressions.js\");\n/* harmony import */ var _constants_visemesMapping__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants/visemesMapping */ \"./constants/visemesMapping.js\");\n/* harmony import */ var _constants_morphTargets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants/morphTargets */ \"./constants/morphTargets.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n// Controls how quickly morph targets reach their target value (0-1). Higher = faster.\nconst LIP_SYNC_SPEED = 0.4; // previously 0.2 â€“ doubled for quicker mouth movement\nfunction Avatar(props) {\n    _s();\n    const { nodes, materials, scene } = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF)(\"/models/avatar.glb\");\n    const { animations } = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF)(\"/models/animations.glb\");\n    const { message, onMessagePlayed } = (0,_hooks_useSpeech__WEBPACK_IMPORTED_MODULE_3__.useSpeech)();\n    const [lipsync, setLipsync] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n    const [setupMode, setSetupMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!message) {\n            setAnimation(\"Idle\");\n            return;\n        }\n        setAnimation(message.animation);\n        setFacialExpression(message.facialExpression);\n        setLipsync(message.lipsync);\n        const audio = new Audio(\"data:audio/mp3;base64,\" + message.audio);\n        audio.play();\n        setAudio(audio);\n        audio.onended = onMessagePlayed;\n    }, [\n        message\n    ]);\n    const group = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n    const { actions, mixer } = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useAnimations)(animations, group);\n    const [animation, setAnimation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(animations.find((a)=>a.name === \"Idle\") ? \"Idle\" : animations[0].name);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (actions[animation]) {\n            actions[animation].reset().fadeIn(mixer.stats.actions.inUse === 0 ? 0 : 0.5).play();\n            return ()=>{\n                if (actions[animation]) {\n                    actions[animation].fadeOut(0.5);\n                }\n            };\n        }\n    }, [\n        animation\n    ]);\n    const lerpMorphTarget = function(target, value) {\n        let speed = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0.1;\n        scene.traverse((child)=>{\n            if (child.isSkinnedMesh && child.morphTargetDictionary) {\n                const index = child.morphTargetDictionary[target];\n                if (index === undefined || child.morphTargetInfluences[index] === undefined) {\n                    return;\n                }\n                child.morphTargetInfluences[index] = three__WEBPACK_IMPORTED_MODULE_8__.MathUtils.lerp(child.morphTargetInfluences[index], value, speed);\n            }\n        });\n    };\n    const [blink, setBlink] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [facialExpression, setFacialExpression] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [audio, setAudio] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_9__.useFrame)(()=>{\n        !setupMode && _constants_morphTargets__WEBPACK_IMPORTED_MODULE_6__[\"default\"].forEach((key)=>{\n            const mapping = _constants_facialExpressions__WEBPACK_IMPORTED_MODULE_4__[\"default\"][facialExpression];\n            if (key === \"eyeBlinkLeft\" || key === \"eyeBlinkRight\") {\n                return; // eyes wink/blink are handled separately\n            }\n            if (mapping && mapping[key]) {\n                lerpMorphTarget(key, mapping[key], 0.1);\n            } else {\n                lerpMorphTarget(key, 0, 0.1);\n            }\n        });\n        lerpMorphTarget(\"eyeBlinkLeft\", blink ? 1 : 0, 0.5);\n        lerpMorphTarget(\"eyeBlinkRight\", blink ? 1 : 0, 0.5);\n        if (setupMode) {\n            return;\n        }\n        const appliedMorphTargets = [];\n        if (message && lipsync) {\n            const currentAudioTime = audio.currentTime;\n            for(let i = 0; i < lipsync.mouthCues.length; i++){\n                const mouthCue = lipsync.mouthCues[i];\n                if (currentAudioTime >= mouthCue.start && currentAudioTime <= mouthCue.end) {\n                    appliedMorphTargets.push(_constants_visemesMapping__WEBPACK_IMPORTED_MODULE_5__[\"default\"][mouthCue.value]);\n                    lerpMorphTarget(_constants_visemesMapping__WEBPACK_IMPORTED_MODULE_5__[\"default\"][mouthCue.value], 1, LIP_SYNC_SPEED);\n                    break;\n                }\n            }\n        } else if (message && audio) {\n            // simple fallback: animate mouth open/close with a sine wave\n            const amp = (Math.sin(audio.currentTime * 6) + 1) / 2; // 3 cycles per second\n            lerpMorphTarget(\"mouthOpen\", amp, LIP_SYNC_SPEED);\n        }\n        Object.values(_constants_visemesMapping__WEBPACK_IMPORTED_MODULE_5__[\"default\"]).forEach((value)=>{\n            if (appliedMorphTargets.includes(value)) {\n                return;\n            }\n            lerpMorphTarget(value, 0, LIP_SYNC_SPEED / 2);\n        });\n    });\n    (0,leva__WEBPACK_IMPORTED_MODULE_1__.useControls)(\"FacialExpressions\", {\n        animation: {\n            value: animation,\n            options: animations.map((a)=>a.name),\n            onChange: (value)=>setAnimation(value)\n        },\n        facialExpression: {\n            options: Object.keys(_constants_facialExpressions__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n            onChange: (value)=>setFacialExpression(value)\n        },\n        setupMode: (0,leva__WEBPACK_IMPORTED_MODULE_1__.button)(()=>{\n            setSetupMode(!setupMode);\n        }),\n        logMorphTargetValues: (0,leva__WEBPACK_IMPORTED_MODULE_1__.button)(()=>{\n            const emotionValues = {};\n            Object.values(nodes).forEach((node)=>{\n                if (node.morphTargetInfluences && node.morphTargetDictionary) {\n                    _constants_morphTargets__WEBPACK_IMPORTED_MODULE_6__[\"default\"].forEach((key)=>{\n                        if (key === \"eyeBlinkLeft\" || key === \"eyeBlinkRight\") {\n                            return;\n                        }\n                        const value = node.morphTargetInfluences[node.morphTargetDictionary[key]];\n                        if (value > 0.01) {\n                            emotionValues[key] = value;\n                        }\n                    });\n                }\n            });\n            console.log(JSON.stringify(emotionValues, null, 2));\n        })\n    });\n    (0,leva__WEBPACK_IMPORTED_MODULE_1__.useControls)(\"MorphTarget\", ()=>Object.assign({}, ..._constants_morphTargets__WEBPACK_IMPORTED_MODULE_6__[\"default\"].map((key)=>{\n            return {\n                [key]: {\n                    label: key,\n                    value: 0,\n                    min: 0,\n                    max: 1,\n                    onChange: (val)=>{\n                        lerpMorphTarget(key, val, 0.1);\n                    }\n                }\n            };\n        })));\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        let blinkTimeout;\n        const nextBlink = ()=>{\n            blinkTimeout = setTimeout(()=>{\n                setBlink(true);\n                setTimeout(()=>{\n                    setBlink(false);\n                    nextBlink();\n                }, 200);\n            }, three__WEBPACK_IMPORTED_MODULE_8__.MathUtils.randInt(1000, 5000));\n        };\n        nextBlink();\n        return ()=>clearTimeout(blinkTimeout);\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        ...props,\n        dispose: null,\n        ref: group,\n        position: [\n            0,\n            -0.5,\n            0\n        ],\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"primitive\", {\n                object: nodes.Hips\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 188,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                name: \"EyeLeft\",\n                geometry: nodes.EyeLeft.geometry,\n                material: materials.Wolf3D_Eye,\n                skeleton: nodes.EyeLeft.skeleton,\n                morphTargetDictionary: nodes.EyeLeft.morphTargetDictionary,\n                morphTargetInfluences: nodes.EyeLeft.morphTargetInfluences\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 189,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                name: \"EyeRight\",\n                geometry: nodes.EyeRight.geometry,\n                material: materials.Wolf3D_Eye,\n                skeleton: nodes.EyeRight.skeleton,\n                morphTargetDictionary: nodes.EyeRight.morphTargetDictionary,\n                morphTargetInfluences: nodes.EyeRight.morphTargetInfluences\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 197,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                name: \"Wolf3D_Head\",\n                geometry: nodes.Wolf3D_Head.geometry,\n                material: materials.Wolf3D_Skin,\n                skeleton: nodes.Wolf3D_Head.skeleton,\n                morphTargetDictionary: nodes.Wolf3D_Head.morphTargetDictionary,\n                morphTargetInfluences: nodes.Wolf3D_Head.morphTargetInfluences\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 205,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                name: \"Wolf3D_Teeth\",\n                geometry: nodes.Wolf3D_Teeth.geometry,\n                material: materials.Wolf3D_Teeth,\n                skeleton: nodes.Wolf3D_Teeth.skeleton,\n                morphTargetDictionary: nodes.Wolf3D_Teeth.morphTargetDictionary,\n                morphTargetInfluences: nodes.Wolf3D_Teeth.morphTargetInfluences\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 213,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Glasses.geometry,\n                material: materials.Wolf3D_Glasses,\n                skeleton: nodes.Wolf3D_Glasses.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 221,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Headwear.geometry,\n                material: materials.Wolf3D_Headwear,\n                skeleton: nodes.Wolf3D_Headwear.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 222,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Body.geometry,\n                material: materials.Wolf3D_Body,\n                skeleton: nodes.Wolf3D_Body.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 223,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Outfit_Bottom.geometry,\n                material: materials.Wolf3D_Outfit_Bottom,\n                skeleton: nodes.Wolf3D_Outfit_Bottom.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 224,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Outfit_Footwear.geometry,\n                material: materials.Wolf3D_Outfit_Footwear,\n                skeleton: nodes.Wolf3D_Outfit_Footwear.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 225,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Outfit_Top.geometry,\n                material: materials.Wolf3D_Outfit_Top,\n                skeleton: nodes.Wolf3D_Outfit_Top.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 226,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n        lineNumber: 187,\n        columnNumber: 5\n    }, this);\n}\n_s(Avatar, \"rtcrjc3BfDCqdXBuLfM+HuQxtEU=\", false, function() {\n    return [\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF,\n        _hooks_useSpeech__WEBPACK_IMPORTED_MODULE_3__.useSpeech,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useAnimations,\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_9__.useFrame,\n        leva__WEBPACK_IMPORTED_MODULE_1__.useControls,\n        leva__WEBPACK_IMPORTED_MODULE_1__.useControls\n    ];\n});\n_c = Avatar;\n_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF.preload(\"/models/avatar.glb\");\nvar _c;\n$RefreshReg$(_c, \"Avatar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUMsVUFBVTVGLE1BQU13RyxvQkFBb0IsQ0FBQ1osUUFBUTtnQkFBRUUsVUFBVTdGLFVBQVV1RyxvQkFBb0I7Z0JBQUVSLFVBQVVoRyxNQUFNd0csb0JBQW9CLENBQUNSLFFBQVE7Ozs7OzswQkFDbkosOERBQUNMO2dCQUFZQyxVQUFVNUYsTUFBTXlHLHNCQUFzQixDQUFDYixRQUFRO2dCQUFFRSxVQUFVN0YsVUFBVXdHLHNCQUFzQjtnQkFBRVQsVUFBVWhHLE1BQU15RyxzQkFBc0IsQ0FBQ1QsUUFBUTs7Ozs7OzBCQUN6Siw4REFBQ0w7Z0JBQVlDLFVBQVU1RixNQUFNMEcsaUJBQWlCLENBQUNkLFFBQVE7Z0JBQUVFLFVBQVU3RixVQUFVeUcsaUJBQWlCO2dCQUFFVixVQUFVaEcsTUFBTTBHLGlCQUFpQixDQUFDVixRQUFROzs7Ozs7Ozs7Ozs7QUFHaEo7R0F2TndCbEc7O1FBQ2NkLHNEQUFPQTtRQUNwQkEsc0RBQU9BO1FBQ09TLHVEQUFTQTtRQW1CbkJWLDREQUFhQTtRQXNDeENFLHdEQUFRQTtRQThDUkUsNkNBQVdBO1FBZ0NYQSw2Q0FBV0E7OztLQTFJV1c7QUF5TnhCZCxzREFBT0EsQ0FBQzJILE9BQU8sQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0F2YXRhci5qc3g/NTdiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VBbmltYXRpb25zLCB1c2VHTFRGIH0gZnJvbSBcIkByZWFjdC10aHJlZS9kcmVpXCI7XG5pbXBvcnQgeyB1c2VGcmFtZSB9IGZyb20gXCJAcmVhY3QtdGhyZWUvZmliZXJcIjtcbmltcG9ydCB7IGJ1dHRvbiwgdXNlQ29udHJvbHMgfSBmcm9tIFwibGV2YVwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XG5pbXBvcnQgeyB1c2VTcGVlY2ggfSBmcm9tIFwiLi4vaG9va3MvdXNlU3BlZWNoXCI7XG5pbXBvcnQgZmFjaWFsRXhwcmVzc2lvbnMgZnJvbSBcIi4uL2NvbnN0YW50cy9mYWNpYWxFeHByZXNzaW9uc1wiO1xuaW1wb3J0IHZpc2VtZXNNYXBwaW5nIGZyb20gXCIuLi9jb25zdGFudHMvdmlzZW1lc01hcHBpbmdcIjtcbmltcG9ydCBtb3JwaFRhcmdldHMgZnJvbSBcIi4uL2NvbnN0YW50cy9tb3JwaFRhcmdldHNcIjtcblxuLy8gQ29udHJvbHMgaG93IHF1aWNrbHkgbW9ycGggdGFyZ2V0cyByZWFjaCB0aGVpciB0YXJnZXQgdmFsdWUgKDAtMSkuIEhpZ2hlciA9IGZhc3Rlci5cbmNvbnN0IExJUF9TWU5DX1NQRUVEID0gMC40OyAvLyBwcmV2aW91c2x5IDAuMiDigJMgZG91YmxlZCBmb3IgcXVpY2tlciBtb3V0aCBtb3ZlbWVudFxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBdmF0YXIocHJvcHMpIHtcbiAgY29uc3QgeyBub2RlcywgbWF0ZXJpYWxzLCBzY2VuZSB9ID0gdXNlR0xURihcIi9tb2RlbHMvYXZhdGFyLmdsYlwiKTtcbiAgY29uc3QgeyBhbmltYXRpb25zIH0gPSB1c2VHTFRGKFwiL21vZGVscy9hbmltYXRpb25zLmdsYlwiKTtcbiAgY29uc3QgeyBtZXNzYWdlLCBvbk1lc3NhZ2VQbGF5ZWQgfSA9IHVzZVNwZWVjaCgpO1xuICBjb25zdCBbbGlwc3luYywgc2V0TGlwc3luY10gPSB1c2VTdGF0ZSgpO1xuICBjb25zdCBbc2V0dXBNb2RlLCBzZXRTZXR1cE1vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtZXNzYWdlKSB7XG4gICAgICBzZXRBbmltYXRpb24oXCJJZGxlXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXRBbmltYXRpb24obWVzc2FnZS5hbmltYXRpb24pO1xuICAgIHNldEZhY2lhbEV4cHJlc3Npb24obWVzc2FnZS5mYWNpYWxFeHByZXNzaW9uKTtcbiAgICBzZXRMaXBzeW5jKG1lc3NhZ2UubGlwc3luYyk7XG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oXCJkYXRhOmF1ZGlvL21wMztiYXNlNjQsXCIgKyBtZXNzYWdlLmF1ZGlvKTtcbiAgICBhdWRpby5wbGF5KCk7XG4gICAgc2V0QXVkaW8oYXVkaW8pO1xuICAgIGF1ZGlvLm9uZW5kZWQgPSBvbk1lc3NhZ2VQbGF5ZWQ7XG4gIH0sIFttZXNzYWdlXSk7XG5cbiAgY29uc3QgZ3JvdXAgPSB1c2VSZWYoKTtcbiAgY29uc3QgeyBhY3Rpb25zLCBtaXhlciB9ID0gdXNlQW5pbWF0aW9ucyhhbmltYXRpb25zLCBncm91cCk7XG4gIGNvbnN0IFthbmltYXRpb24sIHNldEFuaW1hdGlvbl0gPSB1c2VTdGF0ZShcbiAgICBhbmltYXRpb25zLmZpbmQoKGEpID0+IGEubmFtZSA9PT0gXCJJZGxlXCIpID8gXCJJZGxlXCIgOiBhbmltYXRpb25zWzBdLm5hbWVcbiAgKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aW9uc1thbmltYXRpb25dKSB7XG4gICAgICBhY3Rpb25zW2FuaW1hdGlvbl1cbiAgICAgICAgLnJlc2V0KClcbiAgICAgICAgLmZhZGVJbihtaXhlci5zdGF0cy5hY3Rpb25zLmluVXNlID09PSAwID8gMCA6IDAuNSlcbiAgICAgICAgLnBsYXkoKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChhY3Rpb25zW2FuaW1hdGlvbl0pIHtcbiAgICAgICAgICBhY3Rpb25zW2FuaW1hdGlvbl0uZmFkZU91dCgwLjUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW2FuaW1hdGlvbl0pO1xuXG4gIGNvbnN0IGxlcnBNb3JwaFRhcmdldCA9ICh0YXJnZXQsIHZhbHVlLCBzcGVlZCA9IDAuMSkgPT4ge1xuICAgIHNjZW5lLnRyYXZlcnNlKChjaGlsZCkgPT4ge1xuICAgICAgaWYgKGNoaWxkLmlzU2tpbm5lZE1lc2ggJiYgY2hpbGQubW9ycGhUYXJnZXREaWN0aW9uYXJ5KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY2hpbGQubW9ycGhUYXJnZXREaWN0aW9uYXJ5W3RhcmdldF07XG4gICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkIHx8IGNoaWxkLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tpbmRleF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC5tb3JwaFRhcmdldEluZmx1ZW5jZXNbaW5kZXhdID0gVEhSRUUuTWF0aFV0aWxzLmxlcnAoXG4gICAgICAgICAgY2hpbGQubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2luZGV4XSxcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBzcGVlZFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IFtibGluaywgc2V0QmxpbmtdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZmFjaWFsRXhwcmVzc2lvbiwgc2V0RmFjaWFsRXhwcmVzc2lvbl0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW2F1ZGlvLCBzZXRBdWRpb10gPSB1c2VTdGF0ZSgpO1xuXG4gIHVzZUZyYW1lKCgpID0+IHtcbiAgICAhc2V0dXBNb2RlICYmXG4gICAgICBtb3JwaFRhcmdldHMuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcHBpbmcgPSBmYWNpYWxFeHByZXNzaW9uc1tmYWNpYWxFeHByZXNzaW9uXTtcbiAgICAgICAgaWYgKGtleSA9PT0gXCJleWVCbGlua0xlZnRcIiB8fCBrZXkgPT09IFwiZXllQmxpbmtSaWdodFwiKSB7XG4gICAgICAgICAgcmV0dXJuOyAvLyBleWVzIHdpbmsvYmxpbmsgYXJlIGhhbmRsZWQgc2VwYXJhdGVseVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYXBwaW5nICYmIG1hcHBpbmdba2V5XSkge1xuICAgICAgICAgIGxlcnBNb3JwaFRhcmdldChrZXksIG1hcHBpbmdba2V5XSwgMC4xKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXJwTW9ycGhUYXJnZXQoa2V5LCAwLCAwLjEpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIGxlcnBNb3JwaFRhcmdldChcImV5ZUJsaW5rTGVmdFwiLCBibGluayA/IDEgOiAwLCAwLjUpO1xuICAgIGxlcnBNb3JwaFRhcmdldChcImV5ZUJsaW5rUmlnaHRcIiwgYmxpbmsgPyAxIDogMCwgMC41KTtcblxuICAgIGlmIChzZXR1cE1vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhcHBsaWVkTW9ycGhUYXJnZXRzID0gW107XG4gICAgaWYgKG1lc3NhZ2UgJiYgbGlwc3luYykge1xuICAgICAgY29uc3QgY3VycmVudEF1ZGlvVGltZSA9IGF1ZGlvLmN1cnJlbnRUaW1lO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXBzeW5jLm1vdXRoQ3Vlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBtb3V0aEN1ZSA9IGxpcHN5bmMubW91dGhDdWVzW2ldO1xuICAgICAgICBpZiAoY3VycmVudEF1ZGlvVGltZSA+PSBtb3V0aEN1ZS5zdGFydCAmJiBjdXJyZW50QXVkaW9UaW1lIDw9IG1vdXRoQ3VlLmVuZCkge1xuICAgICAgICAgIGFwcGxpZWRNb3JwaFRhcmdldHMucHVzaCh2aXNlbWVzTWFwcGluZ1ttb3V0aEN1ZS52YWx1ZV0pO1xuICAgICAgICAgIGxlcnBNb3JwaFRhcmdldCh2aXNlbWVzTWFwcGluZ1ttb3V0aEN1ZS52YWx1ZV0sIDEsIExJUF9TWU5DX1NQRUVEKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWVzc2FnZSAmJiBhdWRpbykge1xuICAgICAgLy8gc2ltcGxlIGZhbGxiYWNrOiBhbmltYXRlIG1vdXRoIG9wZW4vY2xvc2Ugd2l0aCBhIHNpbmUgd2F2ZVxuICAgICAgY29uc3QgYW1wID0gKE1hdGguc2luKGF1ZGlvLmN1cnJlbnRUaW1lICogNikgKyAxKSAvIDI7IC8vIDMgY3ljbGVzIHBlciBzZWNvbmRcbiAgICAgIGxlcnBNb3JwaFRhcmdldChcIm1vdXRoT3BlblwiLCBhbXAsIExJUF9TWU5DX1NQRUVEKTtcbiAgICB9XG5cbiAgICBPYmplY3QudmFsdWVzKHZpc2VtZXNNYXBwaW5nKS5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKGFwcGxpZWRNb3JwaFRhcmdldHMuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxlcnBNb3JwaFRhcmdldCh2YWx1ZSwgMCwgTElQX1NZTkNfU1BFRUQgLyAyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgdXNlQ29udHJvbHMoXCJGYWNpYWxFeHByZXNzaW9uc1wiLCB7XG4gICAgYW5pbWF0aW9uOiB7XG4gICAgICB2YWx1ZTogYW5pbWF0aW9uLFxuICAgICAgb3B0aW9uczogYW5pbWF0aW9ucy5tYXAoKGEpID0+IGEubmFtZSksXG4gICAgICBvbkNoYW5nZTogKHZhbHVlKSA9PiBzZXRBbmltYXRpb24odmFsdWUpLFxuICAgIH0sXG4gICAgZmFjaWFsRXhwcmVzc2lvbjoge1xuICAgICAgb3B0aW9uczogT2JqZWN0LmtleXMoZmFjaWFsRXhwcmVzc2lvbnMpLFxuICAgICAgb25DaGFuZ2U6ICh2YWx1ZSkgPT4gc2V0RmFjaWFsRXhwcmVzc2lvbih2YWx1ZSksXG4gICAgfSxcbiAgICBzZXR1cE1vZGU6IGJ1dHRvbigoKSA9PiB7XG4gICAgICBzZXRTZXR1cE1vZGUoIXNldHVwTW9kZSk7XG4gICAgfSksXG4gICAgbG9nTW9ycGhUYXJnZXRWYWx1ZXM6IGJ1dHRvbigoKSA9PiB7XG4gICAgICBjb25zdCBlbW90aW9uVmFsdWVzID0ge307XG4gICAgICBPYmplY3QudmFsdWVzKG5vZGVzKS5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIGlmIChub2RlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyAmJiBub2RlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSkge1xuICAgICAgICAgIG1vcnBoVGFyZ2V0cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgIGlmIChrZXkgPT09IFwiZXllQmxpbmtMZWZ0XCIgfHwga2V5ID09PSBcImV5ZUJsaW5rUmlnaHRcIikge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG5vZGUubW9ycGhUYXJnZXRJbmZsdWVuY2VzW25vZGUubW9ycGhUYXJnZXREaWN0aW9uYXJ5W2tleV1dO1xuICAgICAgICAgICAgaWYgKHZhbHVlID4gMC4wMSkge1xuICAgICAgICAgICAgICBlbW90aW9uVmFsdWVzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlbW90aW9uVmFsdWVzLCBudWxsLCAyKSk7XG4gICAgfSksXG4gIH0pO1xuXG4gIHVzZUNvbnRyb2xzKFwiTW9ycGhUYXJnZXRcIiwgKCkgPT5cbiAgICBPYmplY3QuYXNzaWduKFxuICAgICAge30sXG4gICAgICAuLi5tb3JwaFRhcmdldHMubWFwKChrZXkpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBba2V5XToge1xuICAgICAgICAgICAgbGFiZWw6IGtleSxcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAxLFxuICAgICAgICAgICAgb25DaGFuZ2U6ICh2YWwpID0+IHtcbiAgICAgICAgICAgICAgbGVycE1vcnBoVGFyZ2V0KGtleSwgdmFsLCAwLjEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICApXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgYmxpbmtUaW1lb3V0O1xuICAgIGNvbnN0IG5leHRCbGluayA9ICgpID0+IHtcbiAgICAgIGJsaW5rVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRCbGluayh0cnVlKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgc2V0QmxpbmsoZmFsc2UpO1xuICAgICAgICAgIG5leHRCbGluaygpO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfSwgVEhSRUUuTWF0aFV0aWxzLnJhbmRJbnQoMTAwMCwgNTAwMCkpO1xuICAgIH07XG4gICAgbmV4dEJsaW5rKCk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFyVGltZW91dChibGlua1RpbWVvdXQpO1xuICB9LCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8Z3JvdXAgey4uLnByb3BzfSBkaXNwb3NlPXtudWxsfSByZWY9e2dyb3VwfSBwb3NpdGlvbj17WzAsIC0wLjUsIDBdfT5cbiAgICAgIDxwcmltaXRpdmUgb2JqZWN0PXtub2Rlcy5IaXBzfSAvPlxuICAgICAgPHNraW5uZWRNZXNoXG4gICAgICAgIG5hbWU9XCJFeWVMZWZ0XCJcbiAgICAgICAgZ2VvbWV0cnk9e25vZGVzLkV5ZUxlZnQuZ2VvbWV0cnl9XG4gICAgICAgIG1hdGVyaWFsPXttYXRlcmlhbHMuV29sZjNEX0V5ZX1cbiAgICAgICAgc2tlbGV0b249e25vZGVzLkV5ZUxlZnQuc2tlbGV0b259XG4gICAgICAgIG1vcnBoVGFyZ2V0RGljdGlvbmFyeT17bm9kZXMuRXllTGVmdC5tb3JwaFRhcmdldERpY3Rpb25hcnl9XG4gICAgICAgIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcz17bm9kZXMuRXllTGVmdC5tb3JwaFRhcmdldEluZmx1ZW5jZXN9XG4gICAgICAvPlxuICAgICAgPHNraW5uZWRNZXNoXG4gICAgICAgIG5hbWU9XCJFeWVSaWdodFwiXG4gICAgICAgIGdlb21ldHJ5PXtub2Rlcy5FeWVSaWdodC5nZW9tZXRyeX1cbiAgICAgICAgbWF0ZXJpYWw9e21hdGVyaWFscy5Xb2xmM0RfRXllfVxuICAgICAgICBza2VsZXRvbj17bm9kZXMuRXllUmlnaHQuc2tlbGV0b259XG4gICAgICAgIG1vcnBoVGFyZ2V0RGljdGlvbmFyeT17bm9kZXMuRXllUmlnaHQubW9ycGhUYXJnZXREaWN0aW9uYXJ5fVxuICAgICAgICBtb3JwaFRhcmdldEluZmx1ZW5jZXM9e25vZGVzLkV5ZVJpZ2h0Lm1vcnBoVGFyZ2V0SW5mbHVlbmNlc31cbiAgICAgIC8+XG4gICAgICA8c2tpbm5lZE1lc2hcbiAgICAgICAgbmFtZT1cIldvbGYzRF9IZWFkXCJcbiAgICAgICAgZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9IZWFkLmdlb21ldHJ5fVxuICAgICAgICBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9Ta2lufVxuICAgICAgICBza2VsZXRvbj17bm9kZXMuV29sZjNEX0hlYWQuc2tlbGV0b259XG4gICAgICAgIG1vcnBoVGFyZ2V0RGljdGlvbmFyeT17bm9kZXMuV29sZjNEX0hlYWQubW9ycGhUYXJnZXREaWN0aW9uYXJ5fVxuICAgICAgICBtb3JwaFRhcmdldEluZmx1ZW5jZXM9e25vZGVzLldvbGYzRF9IZWFkLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc31cbiAgICAgIC8+XG4gICAgICA8c2tpbm5lZE1lc2hcbiAgICAgICAgbmFtZT1cIldvbGYzRF9UZWV0aFwiXG4gICAgICAgIGdlb21ldHJ5PXtub2Rlcy5Xb2xmM0RfVGVldGguZ2VvbWV0cnl9XG4gICAgICAgIG1hdGVyaWFsPXttYXRlcmlhbHMuV29sZjNEX1RlZXRofVxuICAgICAgICBza2VsZXRvbj17bm9kZXMuV29sZjNEX1RlZXRoLnNrZWxldG9ufVxuICAgICAgICBtb3JwaFRhcmdldERpY3Rpb25hcnk9e25vZGVzLldvbGYzRF9UZWV0aC5tb3JwaFRhcmdldERpY3Rpb25hcnl9XG4gICAgICAgIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcz17bm9kZXMuV29sZjNEX1RlZXRoLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc31cbiAgICAgIC8+XG4gICAgICA8c2tpbm5lZE1lc2ggZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9HbGFzc2VzLmdlb21ldHJ5fSBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9HbGFzc2VzfSBza2VsZXRvbj17bm9kZXMuV29sZjNEX0dsYXNzZXMuc2tlbGV0b259IC8+XG4gICAgICA8c2tpbm5lZE1lc2ggZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9IZWFkd2Vhci5nZW9tZXRyeX0gbWF0ZXJpYWw9e21hdGVyaWFscy5Xb2xmM0RfSGVhZHdlYXJ9IHNrZWxldG9uPXtub2Rlcy5Xb2xmM0RfSGVhZHdlYXIuc2tlbGV0b259IC8+XG4gICAgICA8c2tpbm5lZE1lc2ggZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9Cb2R5Lmdlb21ldHJ5fSBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9Cb2R5fSBza2VsZXRvbj17bm9kZXMuV29sZjNEX0JvZHkuc2tlbGV0b259IC8+XG4gICAgICA8c2tpbm5lZE1lc2ggZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9PdXRmaXRfQm90dG9tLmdlb21ldHJ5fSBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9PdXRmaXRfQm90dG9tfSBza2VsZXRvbj17bm9kZXMuV29sZjNEX091dGZpdF9Cb3R0b20uc2tlbGV0b259IC8+XG4gICAgICA8c2tpbm5lZE1lc2ggZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9PdXRmaXRfRm9vdHdlYXIuZ2VvbWV0cnl9IG1hdGVyaWFsPXttYXRlcmlhbHMuV29sZjNEX091dGZpdF9Gb290d2Vhcn0gc2tlbGV0b249e25vZGVzLldvbGYzRF9PdXRmaXRfRm9vdHdlYXIuc2tlbGV0b259IC8+XG4gICAgICA8c2tpbm5lZE1lc2ggZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9PdXRmaXRfVG9wLmdlb21ldHJ5fSBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9PdXRmaXRfVG9wfSBza2VsZXRvbj17bm9kZXMuV29sZjNEX091dGZpdF9Ub3Auc2tlbGV0b259IC8+XG4gICAgPC9ncm91cD5cbiAgKTtcbn1cblxudXNlR0xURi5wcmVsb2FkKFwiL21vZGVscy9hdmF0YXIuZ2xiXCIpOyAiXSwibmFtZXMiOlsidXNlQW5pbWF0aW9ucyIsInVzZUdMVEYiLCJ1c2VGcmFtZSIsImJ1dHRvbiIsInVzZUNvbnRyb2xzIiwiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIlRIUkVFIiwidXNlU3BlZWNoIiwiZmFjaWFsRXhwcmVzc2lvbnMiLCJ2aXNlbWVzTWFwcGluZyIsIm1vcnBoVGFyZ2V0cyIsIkxJUF9TWU5DX1NQRUVEIiwiQXZhdGFyIiwicHJvcHMiLCJub2RlcyIsIm1hdGVyaWFscyIsInNjZW5lIiwiYW5pbWF0aW9ucyIsIm1lc3NhZ2UiLCJvbk1lc3NhZ2VQbGF5ZWQiLCJsaXBzeW5jIiwic2V0TGlwc3luYyIsInNldHVwTW9kZSIsInNldFNldHVwTW9kZSIsInNldEFuaW1hdGlvbiIsImFuaW1hdGlvbiIsInNldEZhY2lhbEV4cHJlc3Npb24iLCJmYWNpYWxFeHByZXNzaW9uIiwiYXVkaW8iLCJBdWRpbyIsInBsYXkiLCJzZXRBdWRpbyIsIm9uZW5kZWQiLCJncm91cCIsImFjdGlvbnMiLCJtaXhlciIsImZpbmQiLCJhIiwibmFtZSIsInJlc2V0IiwiZmFkZUluIiwic3RhdHMiLCJpblVzZSIsImZhZGVPdXQiLCJsZXJwTW9ycGhUYXJnZXQiLCJ0YXJnZXQiLCJ2YWx1ZSIsInNwZWVkIiwidHJhdmVyc2UiLCJjaGlsZCIsImlzU2tpbm5lZE1lc2giLCJtb3JwaFRhcmdldERpY3Rpb25hcnkiLCJpbmRleCIsInVuZGVmaW5lZCIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsIk1hdGhVdGlscyIsImxlcnAiLCJibGluayIsInNldEJsaW5rIiwiZm9yRWFjaCIsImtleSIsIm1hcHBpbmciLCJhcHBsaWVkTW9ycGhUYXJnZXRzIiwiY3VycmVudEF1ZGlvVGltZSIsImN1cnJlbnRUaW1lIiwiaSIsIm1vdXRoQ3VlcyIsImxlbmd0aCIsIm1vdXRoQ3VlIiwic3RhcnQiLCJlbmQiLCJwdXNoIiwiYW1wIiwiTWF0aCIsInNpbiIsIk9iamVjdCIsInZhbHVlcyIsImluY2x1ZGVzIiwib3B0aW9ucyIsIm1hcCIsIm9uQ2hhbmdlIiwia2V5cyIsImxvZ01vcnBoVGFyZ2V0VmFsdWVzIiwiZW1vdGlvblZhbHVlcyIsIm5vZGUiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsImFzc2lnbiIsImxhYmVsIiwibWluIiwibWF4IiwidmFsIiwiYmxpbmtUaW1lb3V0IiwibmV4dEJsaW5rIiwic2V0VGltZW91dCIsInJhbmRJbnQiLCJjbGVhclRpbWVvdXQiLCJkaXNwb3NlIiwicmVmIiwicG9zaXRpb24iLCJwcmltaXRpdmUiLCJvYmplY3QiLCJIaXBzIiwic2tpbm5lZE1lc2giLCJnZW9tZXRyeSIsIkV5ZUxlZnQiLCJtYXRlcmlhbCIsIldvbGYzRF9FeWUiLCJza2VsZXRvbiIsIkV5ZVJpZ2h0IiwiV29sZjNEX0hlYWQiLCJXb2xmM0RfU2tpbiIsIldvbGYzRF9UZWV0aCIsIldvbGYzRF9HbGFzc2VzIiwiV29sZjNEX0hlYWR3ZWFyIiwiV29sZjNEX0JvZHkiLCJXb2xmM0RfT3V0Zml0X0JvdHRvbSIsIldvbGYzRF9PdXRmaXRfRm9vdHdlYXIiLCJXb2xmM0RfT3V0Zml0X1RvcCIsInByZWxvYWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/Avatar.jsx\n"));

/***/ })

});