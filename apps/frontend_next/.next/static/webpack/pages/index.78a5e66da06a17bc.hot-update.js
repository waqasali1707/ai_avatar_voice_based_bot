"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./components/Avatar.jsx":
/*!*******************************!*\
  !*** ./components/Avatar.jsx ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Avatar; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"../../node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _react_three_drei__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @react-three/drei */ \"../../node_modules/@react-three/drei/index.js\");\n/* harmony import */ var _react_three_fiber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @react-three/fiber */ \"../../node_modules/@react-three/fiber/dist/react-three-fiber.esm.js\");\n/* harmony import */ var leva__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! leva */ \"../../node_modules/leva/dist/leva.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! three */ \"../../node_modules/three/build/three.module.js\");\n/* harmony import */ var _hooks_useSpeech__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useSpeech */ \"./hooks/useSpeech.jsx\");\n/* harmony import */ var _constants_facialExpressions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants/facialExpressions */ \"./constants/facialExpressions.js\");\n/* harmony import */ var _constants_visemesMapping__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../constants/visemesMapping */ \"./constants/visemesMapping.js\");\n/* harmony import */ var _constants_morphTargets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../constants/morphTargets */ \"./constants/morphTargets.js\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction Avatar(props) {\n    _s();\n    const { nodes, materials, scene } = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF)(\"/models/avatar.glb\");\n    const { animations } = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF)(\"/models/animations.glb\");\n    const { message, onMessagePlayed } = (0,_hooks_useSpeech__WEBPACK_IMPORTED_MODULE_3__.useSpeech)();\n    const [lipsync, setLipsync] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n    const [setupMode, setSetupMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!message) {\n            setAnimation(\"Idle\");\n            return;\n        }\n        setAnimation(message.animation);\n        setFacialExpression(message.facialExpression);\n        setLipsync(message.lipsync);\n        const audio = new Audio(\"data:audio/mp3;base64,\" + message.audio);\n        audio.play();\n        setAudio(audio);\n        audio.onended = onMessagePlayed;\n    }, [\n        message\n    ]);\n    const group = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)();\n    const { actions, mixer } = (0,_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useAnimations)(animations, group);\n    const [animation, setAnimation] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(animations.find((a)=>a.name === \"Idle\") ? \"Idle\" : animations[0].name);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (actions[animation]) {\n            actions[animation].reset().fadeIn(mixer.stats.actions.inUse === 0 ? 0 : 0.5).play();\n            return ()=>{\n                if (actions[animation]) {\n                    actions[animation].fadeOut(0.5);\n                }\n            };\n        }\n    }, [\n        animation\n    ]);\n    const lerpMorphTarget = function(target, value) {\n        let speed = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 0.1;\n        scene.traverse((child)=>{\n            if (child.isSkinnedMesh && child.morphTargetDictionary) {\n                const index = child.morphTargetDictionary[target];\n                if (index === undefined || child.morphTargetInfluences[index] === undefined) {\n                    return;\n                }\n                child.morphTargetInfluences[index] = three__WEBPACK_IMPORTED_MODULE_8__.MathUtils.lerp(child.morphTargetInfluences[index], value, speed);\n            }\n        });\n    };\n    const [blink, setBlink] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [facialExpression, setFacialExpression] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [audio, setAudio] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n    (0,_react_three_fiber__WEBPACK_IMPORTED_MODULE_9__.useFrame)(()=>{\n        !setupMode && _constants_morphTargets__WEBPACK_IMPORTED_MODULE_6__[\"default\"].forEach((key)=>{\n            const mapping = _constants_facialExpressions__WEBPACK_IMPORTED_MODULE_4__[\"default\"][facialExpression];\n            if (key === \"eyeBlinkLeft\" || key === \"eyeBlinkRight\") {\n                return; // eyes wink/blink are handled separately\n            }\n            if (mapping && mapping[key]) {\n                lerpMorphTarget(key, mapping[key], 0.1);\n            } else {\n                lerpMorphTarget(key, 0, 0.1);\n            }\n        });\n        lerpMorphTarget(\"eyeBlinkLeft\", blink ? 1 : 0, 0.5);\n        lerpMorphTarget(\"eyeBlinkRight\", blink ? 1 : 0, 0.5);\n        if (setupMode) {\n            return;\n        }\n        const appliedMorphTargets = [];\n        if (message && lipsync) {\n            const currentAudioTime = audio.currentTime;\n            for(let i = 0; i < lipsync.mouthCues.length; i++){\n                const mouthCue = lipsync.mouthCues[i];\n                if (currentAudioTime >= mouthCue.start && currentAudioTime <= mouthCue.end) {\n                    appliedMorphTargets.push(_constants_visemesMapping__WEBPACK_IMPORTED_MODULE_5__[\"default\"][mouthCue.value]);\n                    lerpMorphTarget(_constants_visemesMapping__WEBPACK_IMPORTED_MODULE_5__[\"default\"][mouthCue.value], 1, 0.2);\n                    break;\n                }\n            }\n        } else if (message && audio) {\n            // simple fallback: animate mouth open/close with a sine wave\n            const amp = (Math.sin(audio.currentTime * 6) + 1) / 2; // 3 cycles per second\n            lerpMorphTarget(\"mouthOpen\", amp, 0.2);\n        }\n        Object.values(_constants_visemesMapping__WEBPACK_IMPORTED_MODULE_5__[\"default\"]).forEach((value)=>{\n            if (appliedMorphTargets.includes(value)) {\n                return;\n            }\n            lerpMorphTarget(value, 0, 0.1);\n        });\n    });\n    (0,leva__WEBPACK_IMPORTED_MODULE_1__.useControls)(\"FacialExpressions\", {\n        animation: {\n            value: animation,\n            options: animations.map((a)=>a.name),\n            onChange: (value)=>setAnimation(value)\n        },\n        facialExpression: {\n            options: Object.keys(_constants_facialExpressions__WEBPACK_IMPORTED_MODULE_4__[\"default\"]),\n            onChange: (value)=>setFacialExpression(value)\n        },\n        setupMode: (0,leva__WEBPACK_IMPORTED_MODULE_1__.button)(()=>{\n            setSetupMode(!setupMode);\n        }),\n        logMorphTargetValues: (0,leva__WEBPACK_IMPORTED_MODULE_1__.button)(()=>{\n            const emotionValues = {};\n            Object.values(nodes).forEach((node)=>{\n                if (node.morphTargetInfluences && node.morphTargetDictionary) {\n                    _constants_morphTargets__WEBPACK_IMPORTED_MODULE_6__[\"default\"].forEach((key)=>{\n                        if (key === \"eyeBlinkLeft\" || key === \"eyeBlinkRight\") {\n                            return;\n                        }\n                        const value = node.morphTargetInfluences[node.morphTargetDictionary[key]];\n                        if (value > 0.01) {\n                            emotionValues[key] = value;\n                        }\n                    });\n                }\n            });\n            console.log(JSON.stringify(emotionValues, null, 2));\n        })\n    });\n    (0,leva__WEBPACK_IMPORTED_MODULE_1__.useControls)(\"MorphTarget\", ()=>Object.assign({}, ..._constants_morphTargets__WEBPACK_IMPORTED_MODULE_6__[\"default\"].map((key)=>{\n            return {\n                [key]: {\n                    label: key,\n                    value: 0,\n                    min: 0,\n                    max: 1,\n                    onChange: (val)=>{\n                        lerpMorphTarget(key, val, 0.1);\n                    }\n                }\n            };\n        })));\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        let blinkTimeout;\n        const nextBlink = ()=>{\n            blinkTimeout = setTimeout(()=>{\n                setBlink(true);\n                setTimeout(()=>{\n                    setBlink(false);\n                    nextBlink();\n                }, 200);\n            }, three__WEBPACK_IMPORTED_MODULE_8__.MathUtils.randInt(1000, 5000));\n        };\n        nextBlink();\n        return ()=>clearTimeout(blinkTimeout);\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"group\", {\n        ...props,\n        dispose: null,\n        ref: group,\n        position: [\n            0,\n            -0.5,\n            0\n        ],\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"primitive\", {\n                object: nodes.Hips\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 185,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                name: \"EyeLeft\",\n                geometry: nodes.EyeLeft.geometry,\n                material: materials.Wolf3D_Eye,\n                skeleton: nodes.EyeLeft.skeleton,\n                morphTargetDictionary: nodes.EyeLeft.morphTargetDictionary,\n                morphTargetInfluences: nodes.EyeLeft.morphTargetInfluences\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 186,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                name: \"EyeRight\",\n                geometry: nodes.EyeRight.geometry,\n                material: materials.Wolf3D_Eye,\n                skeleton: nodes.EyeRight.skeleton,\n                morphTargetDictionary: nodes.EyeRight.morphTargetDictionary,\n                morphTargetInfluences: nodes.EyeRight.morphTargetInfluences\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 194,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                name: \"Wolf3D_Head\",\n                geometry: nodes.Wolf3D_Head.geometry,\n                material: materials.Wolf3D_Skin,\n                skeleton: nodes.Wolf3D_Head.skeleton,\n                morphTargetDictionary: nodes.Wolf3D_Head.morphTargetDictionary,\n                morphTargetInfluences: nodes.Wolf3D_Head.morphTargetInfluences\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 202,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                name: \"Wolf3D_Teeth\",\n                geometry: nodes.Wolf3D_Teeth.geometry,\n                material: materials.Wolf3D_Teeth,\n                skeleton: nodes.Wolf3D_Teeth.skeleton,\n                morphTargetDictionary: nodes.Wolf3D_Teeth.morphTargetDictionary,\n                morphTargetInfluences: nodes.Wolf3D_Teeth.morphTargetInfluences\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 210,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Glasses.geometry,\n                material: materials.Wolf3D_Glasses,\n                skeleton: nodes.Wolf3D_Glasses.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 218,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Headwear.geometry,\n                material: materials.Wolf3D_Headwear,\n                skeleton: nodes.Wolf3D_Headwear.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 219,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Body.geometry,\n                material: materials.Wolf3D_Body,\n                skeleton: nodes.Wolf3D_Body.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 220,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Outfit_Bottom.geometry,\n                material: materials.Wolf3D_Outfit_Bottom,\n                skeleton: nodes.Wolf3D_Outfit_Bottom.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 221,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Outfit_Footwear.geometry,\n                material: materials.Wolf3D_Outfit_Footwear,\n                skeleton: nodes.Wolf3D_Outfit_Footwear.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 222,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"skinnedMesh\", {\n                geometry: nodes.Wolf3D_Outfit_Top.geometry,\n                material: materials.Wolf3D_Outfit_Top,\n                skeleton: nodes.Wolf3D_Outfit_Top.skeleton\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n                lineNumber: 223,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Phebsoft\\\\Desktop\\\\Avatar\\\\talking-avatar-with-ai\\\\apps\\\\frontend_next\\\\components\\\\Avatar.jsx\",\n        lineNumber: 184,\n        columnNumber: 5\n    }, this);\n}\n_s(Avatar, \"rtcrjc3BfDCqdXBuLfM+HuQxtEU=\", false, function() {\n    return [\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF,\n        _hooks_useSpeech__WEBPACK_IMPORTED_MODULE_3__.useSpeech,\n        _react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useAnimations,\n        _react_three_fiber__WEBPACK_IMPORTED_MODULE_9__.useFrame,\n        leva__WEBPACK_IMPORTED_MODULE_1__.useControls,\n        leva__WEBPACK_IMPORTED_MODULE_1__.useControls\n    ];\n});\n_c = Avatar;\n_react_three_drei__WEBPACK_IMPORTED_MODULE_7__.useGLTF.preload(\"/models/avatar.glb\");\nvar _c;\n$RefreshReg$(_c, \"Avatar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBb0I7Z0JBQUVSLFVBQVVoRyxNQUFNd0csb0JBQW9CLENBQUNSLFFBQVE7Ozs7OzswQkFDbkosOERBQUNMO2dCQUFZQyxVQUFVNUYsTUFBTXlHLHNCQUFzQixDQUFDYixRQUFRO2dCQUFFRSxVQUFVN0YsVUFBVXdHLHNCQUFzQjtnQkFBRVQsVUFBVWhHLE1BQU15RyxzQkFBc0IsQ0FBQ1QsUUFBUTs7Ozs7OzBCQUN6Siw4REFBQ0w7Z0JBQVlDLFVBQVU1RixNQUFNMEcsaUJBQWlCLENBQUNkLFFBQVE7Z0JBQUVFLFVBQVU3RixVQUFVeUcsaUJBQWlCO2dCQUFFVixVQUFVaEcsTUFBTTBHLGlCQUFpQixDQUFDVixRQUFROzs7Ozs7Ozs7Ozs7QUFHaEo7R0F2TndCbEc7O1FBQ2NiLHNEQUFPQTtRQUNwQkEsc0RBQU9BO1FBQ09TLHVEQUFTQTtRQW1CbkJWLDREQUFhQTtRQXNDeENFLHdEQUFRQTtRQThDUkUsNkNBQVdBO1FBZ0NYQSw2Q0FBV0E7OztLQTFJV1U7QUF5TnhCYixzREFBT0EsQ0FBQzBILE9BQU8sQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0F2YXRhci5qc3g/NTdiNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VBbmltYXRpb25zLCB1c2VHTFRGIH0gZnJvbSBcIkByZWFjdC10aHJlZS9kcmVpXCI7XHJcbmltcG9ydCB7IHVzZUZyYW1lIH0gZnJvbSBcIkByZWFjdC10aHJlZS9maWJlclwiO1xyXG5pbXBvcnQgeyBidXR0b24sIHVzZUNvbnRyb2xzIH0gZnJvbSBcImxldmFcIjtcclxuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgdXNlU3BlZWNoIH0gZnJvbSBcIi4uL2hvb2tzL3VzZVNwZWVjaFwiO1xyXG5pbXBvcnQgZmFjaWFsRXhwcmVzc2lvbnMgZnJvbSBcIi4uL2NvbnN0YW50cy9mYWNpYWxFeHByZXNzaW9uc1wiO1xyXG5pbXBvcnQgdmlzZW1lc01hcHBpbmcgZnJvbSBcIi4uL2NvbnN0YW50cy92aXNlbWVzTWFwcGluZ1wiO1xyXG5pbXBvcnQgbW9ycGhUYXJnZXRzIGZyb20gXCIuLi9jb25zdGFudHMvbW9ycGhUYXJnZXRzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBdmF0YXIocHJvcHMpIHtcclxuICBjb25zdCB7IG5vZGVzLCBtYXRlcmlhbHMsIHNjZW5lIH0gPSB1c2VHTFRGKFwiL21vZGVscy9hdmF0YXIuZ2xiXCIpO1xyXG4gIGNvbnN0IHsgYW5pbWF0aW9ucyB9ID0gdXNlR0xURihcIi9tb2RlbHMvYW5pbWF0aW9ucy5nbGJcIik7XHJcbiAgY29uc3QgeyBtZXNzYWdlLCBvbk1lc3NhZ2VQbGF5ZWQgfSA9IHVzZVNwZWVjaCgpO1xyXG4gIGNvbnN0IFtsaXBzeW5jLCBzZXRMaXBzeW5jXSA9IHVzZVN0YXRlKCk7XHJcbiAgY29uc3QgW3NldHVwTW9kZSwgc2V0U2V0dXBNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghbWVzc2FnZSkge1xyXG4gICAgICBzZXRBbmltYXRpb24oXCJJZGxlXCIpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBzZXRBbmltYXRpb24obWVzc2FnZS5hbmltYXRpb24pO1xyXG4gICAgc2V0RmFjaWFsRXhwcmVzc2lvbihtZXNzYWdlLmZhY2lhbEV4cHJlc3Npb24pO1xyXG4gICAgc2V0TGlwc3luYyhtZXNzYWdlLmxpcHN5bmMpO1xyXG4gICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oXCJkYXRhOmF1ZGlvL21wMztiYXNlNjQsXCIgKyBtZXNzYWdlLmF1ZGlvKTtcclxuICAgIGF1ZGlvLnBsYXkoKTtcclxuICAgIHNldEF1ZGlvKGF1ZGlvKTtcclxuICAgIGF1ZGlvLm9uZW5kZWQgPSBvbk1lc3NhZ2VQbGF5ZWQ7XHJcbiAgfSwgW21lc3NhZ2VdKTtcclxuXHJcbiAgY29uc3QgZ3JvdXAgPSB1c2VSZWYoKTtcclxuICBjb25zdCB7IGFjdGlvbnMsIG1peGVyIH0gPSB1c2VBbmltYXRpb25zKGFuaW1hdGlvbnMsIGdyb3VwKTtcclxuICBjb25zdCBbYW5pbWF0aW9uLCBzZXRBbmltYXRpb25dID0gdXNlU3RhdGUoXHJcbiAgICBhbmltYXRpb25zLmZpbmQoKGEpID0+IGEubmFtZSA9PT0gXCJJZGxlXCIpID8gXCJJZGxlXCIgOiBhbmltYXRpb25zWzBdLm5hbWVcclxuICApO1xyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAoYWN0aW9uc1thbmltYXRpb25dKSB7XHJcbiAgICAgIGFjdGlvbnNbYW5pbWF0aW9uXVxyXG4gICAgICAgIC5yZXNldCgpXHJcbiAgICAgICAgLmZhZGVJbihtaXhlci5zdGF0cy5hY3Rpb25zLmluVXNlID09PSAwID8gMCA6IDAuNSlcclxuICAgICAgICAucGxheSgpO1xyXG4gICAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICAgIGlmIChhY3Rpb25zW2FuaW1hdGlvbl0pIHtcclxuICAgICAgICAgIGFjdGlvbnNbYW5pbWF0aW9uXS5mYWRlT3V0KDAuNSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH0sIFthbmltYXRpb25dKTtcclxuXHJcbiAgY29uc3QgbGVycE1vcnBoVGFyZ2V0ID0gKHRhcmdldCwgdmFsdWUsIHNwZWVkID0gMC4xKSA9PiB7XHJcbiAgICBzY2VuZS50cmF2ZXJzZSgoY2hpbGQpID0+IHtcclxuICAgICAgaWYgKGNoaWxkLmlzU2tpbm5lZE1lc2ggJiYgY2hpbGQubW9ycGhUYXJnZXREaWN0aW9uYXJ5KSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBjaGlsZC5tb3JwaFRhcmdldERpY3Rpb25hcnlbdGFyZ2V0XTtcclxuICAgICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCB8fCBjaGlsZC5tb3JwaFRhcmdldEluZmx1ZW5jZXNbaW5kZXhdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hpbGQubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2luZGV4XSA9IFRIUkVFLk1hdGhVdGlscy5sZXJwKFxyXG4gICAgICAgICAgY2hpbGQubW9ycGhUYXJnZXRJbmZsdWVuY2VzW2luZGV4XSxcclxuICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgc3BlZWRcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBbYmxpbmssIHNldEJsaW5rXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbZmFjaWFsRXhwcmVzc2lvbiwgc2V0RmFjaWFsRXhwcmVzc2lvbl0gPSB1c2VTdGF0ZShcIlwiKTtcclxuICBjb25zdCBbYXVkaW8sIHNldEF1ZGlvXSA9IHVzZVN0YXRlKCk7XHJcblxyXG4gIHVzZUZyYW1lKCgpID0+IHtcclxuICAgICFzZXR1cE1vZGUgJiZcclxuICAgICAgbW9ycGhUYXJnZXRzLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1hcHBpbmcgPSBmYWNpYWxFeHByZXNzaW9uc1tmYWNpYWxFeHByZXNzaW9uXTtcclxuICAgICAgICBpZiAoa2V5ID09PSBcImV5ZUJsaW5rTGVmdFwiIHx8IGtleSA9PT0gXCJleWVCbGlua1JpZ2h0XCIpIHtcclxuICAgICAgICAgIHJldHVybjsgLy8gZXllcyB3aW5rL2JsaW5rIGFyZSBoYW5kbGVkIHNlcGFyYXRlbHlcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG1hcHBpbmcgJiYgbWFwcGluZ1trZXldKSB7XHJcbiAgICAgICAgICBsZXJwTW9ycGhUYXJnZXQoa2V5LCBtYXBwaW5nW2tleV0sIDAuMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxlcnBNb3JwaFRhcmdldChrZXksIDAsIDAuMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICBsZXJwTW9ycGhUYXJnZXQoXCJleWVCbGlua0xlZnRcIiwgYmxpbmsgPyAxIDogMCwgMC41KTtcclxuICAgIGxlcnBNb3JwaFRhcmdldChcImV5ZUJsaW5rUmlnaHRcIiwgYmxpbmsgPyAxIDogMCwgMC41KTtcclxuXHJcbiAgICBpZiAoc2V0dXBNb2RlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBhcHBsaWVkTW9ycGhUYXJnZXRzID0gW107XHJcbiAgICBpZiAobWVzc2FnZSAmJiBsaXBzeW5jKSB7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRBdWRpb1RpbWUgPSBhdWRpby5jdXJyZW50VGltZTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXBzeW5jLm1vdXRoQ3Vlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG1vdXRoQ3VlID0gbGlwc3luYy5tb3V0aEN1ZXNbaV07XHJcbiAgICAgICAgaWYgKGN1cnJlbnRBdWRpb1RpbWUgPj0gbW91dGhDdWUuc3RhcnQgJiYgY3VycmVudEF1ZGlvVGltZSA8PSBtb3V0aEN1ZS5lbmQpIHtcclxuICAgICAgICAgIGFwcGxpZWRNb3JwaFRhcmdldHMucHVzaCh2aXNlbWVzTWFwcGluZ1ttb3V0aEN1ZS52YWx1ZV0pO1xyXG4gICAgICAgICAgbGVycE1vcnBoVGFyZ2V0KHZpc2VtZXNNYXBwaW5nW21vdXRoQ3VlLnZhbHVlXSwgMSwgMC4yKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChtZXNzYWdlICYmIGF1ZGlvKSB7XHJcbiAgICAgIC8vIHNpbXBsZSBmYWxsYmFjazogYW5pbWF0ZSBtb3V0aCBvcGVuL2Nsb3NlIHdpdGggYSBzaW5lIHdhdmVcclxuICAgICAgY29uc3QgYW1wID0gKE1hdGguc2luKGF1ZGlvLmN1cnJlbnRUaW1lICogNikgKyAxKSAvIDI7IC8vIDMgY3ljbGVzIHBlciBzZWNvbmRcclxuICAgICAgbGVycE1vcnBoVGFyZ2V0KFwibW91dGhPcGVuXCIsIGFtcCwgMC4yKTtcclxuICAgIH1cclxuXHJcbiAgICBPYmplY3QudmFsdWVzKHZpc2VtZXNNYXBwaW5nKS5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xyXG4gICAgICBpZiAoYXBwbGllZE1vcnBoVGFyZ2V0cy5pbmNsdWRlcyh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgbGVycE1vcnBoVGFyZ2V0KHZhbHVlLCAwLCAwLjEpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIHVzZUNvbnRyb2xzKFwiRmFjaWFsRXhwcmVzc2lvbnNcIiwge1xyXG4gICAgYW5pbWF0aW9uOiB7XHJcbiAgICAgIHZhbHVlOiBhbmltYXRpb24sXHJcbiAgICAgIG9wdGlvbnM6IGFuaW1hdGlvbnMubWFwKChhKSA9PiBhLm5hbWUpLFxyXG4gICAgICBvbkNoYW5nZTogKHZhbHVlKSA9PiBzZXRBbmltYXRpb24odmFsdWUpLFxyXG4gICAgfSxcclxuICAgIGZhY2lhbEV4cHJlc3Npb246IHtcclxuICAgICAgb3B0aW9uczogT2JqZWN0LmtleXMoZmFjaWFsRXhwcmVzc2lvbnMpLFxyXG4gICAgICBvbkNoYW5nZTogKHZhbHVlKSA9PiBzZXRGYWNpYWxFeHByZXNzaW9uKHZhbHVlKSxcclxuICAgIH0sXHJcbiAgICBzZXR1cE1vZGU6IGJ1dHRvbigoKSA9PiB7XHJcbiAgICAgIHNldFNldHVwTW9kZSghc2V0dXBNb2RlKTtcclxuICAgIH0pLFxyXG4gICAgbG9nTW9ycGhUYXJnZXRWYWx1ZXM6IGJ1dHRvbigoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGVtb3Rpb25WYWx1ZXMgPSB7fTtcclxuICAgICAgT2JqZWN0LnZhbHVlcyhub2RlcykuZm9yRWFjaCgobm9kZSkgPT4ge1xyXG4gICAgICAgIGlmIChub2RlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyAmJiBub2RlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeSkge1xyXG4gICAgICAgICAgbW9ycGhUYXJnZXRzLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSBcImV5ZUJsaW5rTGVmdFwiIHx8IGtleSA9PT0gXCJleWVCbGlua1JpZ2h0XCIpIHtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBub2RlLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tub2RlLm1vcnBoVGFyZ2V0RGljdGlvbmFyeVtrZXldXTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlID4gMC4wMSkge1xyXG4gICAgICAgICAgICAgIGVtb3Rpb25WYWx1ZXNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShlbW90aW9uVmFsdWVzLCBudWxsLCAyKSk7XHJcbiAgICB9KSxcclxuICB9KTtcclxuXHJcbiAgdXNlQ29udHJvbHMoXCJNb3JwaFRhcmdldFwiLCAoKSA9PlxyXG4gICAgT2JqZWN0LmFzc2lnbihcclxuICAgICAge30sXHJcbiAgICAgIC4uLm1vcnBoVGFyZ2V0cy5tYXAoKGtleSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBba2V5XToge1xyXG4gICAgICAgICAgICBsYWJlbDoga2V5LFxyXG4gICAgICAgICAgICB2YWx1ZTogMCxcclxuICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICBtYXg6IDEsXHJcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAodmFsKSA9PiB7XHJcbiAgICAgICAgICAgICAgbGVycE1vcnBoVGFyZ2V0KGtleSwgdmFsLCAwLjEpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgICB9KVxyXG4gICAgKVxyXG4gICk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBsZXQgYmxpbmtUaW1lb3V0O1xyXG4gICAgY29uc3QgbmV4dEJsaW5rID0gKCkgPT4ge1xyXG4gICAgICBibGlua1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBzZXRCbGluayh0cnVlKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHNldEJsaW5rKGZhbHNlKTtcclxuICAgICAgICAgIG5leHRCbGluaygpO1xyXG4gICAgICAgIH0sIDIwMCk7XHJcbiAgICAgIH0sIFRIUkVFLk1hdGhVdGlscy5yYW5kSW50KDEwMDAsIDUwMDApKTtcclxuICAgIH07XHJcbiAgICBuZXh0QmxpbmsoKTtcclxuICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQoYmxpbmtUaW1lb3V0KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Z3JvdXAgey4uLnByb3BzfSBkaXNwb3NlPXtudWxsfSByZWY9e2dyb3VwfSBwb3NpdGlvbj17WzAsIC0wLjUsIDBdfT5cclxuICAgICAgPHByaW1pdGl2ZSBvYmplY3Q9e25vZGVzLkhpcHN9IC8+XHJcbiAgICAgIDxza2lubmVkTWVzaFxyXG4gICAgICAgIG5hbWU9XCJFeWVMZWZ0XCJcclxuICAgICAgICBnZW9tZXRyeT17bm9kZXMuRXllTGVmdC5nZW9tZXRyeX1cclxuICAgICAgICBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9FeWV9XHJcbiAgICAgICAgc2tlbGV0b249e25vZGVzLkV5ZUxlZnQuc2tlbGV0b259XHJcbiAgICAgICAgbW9ycGhUYXJnZXREaWN0aW9uYXJ5PXtub2Rlcy5FeWVMZWZ0Lm1vcnBoVGFyZ2V0RGljdGlvbmFyeX1cclxuICAgICAgICBtb3JwaFRhcmdldEluZmx1ZW5jZXM9e25vZGVzLkV5ZUxlZnQubW9ycGhUYXJnZXRJbmZsdWVuY2VzfVxyXG4gICAgICAvPlxyXG4gICAgICA8c2tpbm5lZE1lc2hcclxuICAgICAgICBuYW1lPVwiRXllUmlnaHRcIlxyXG4gICAgICAgIGdlb21ldHJ5PXtub2Rlcy5FeWVSaWdodC5nZW9tZXRyeX1cclxuICAgICAgICBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9FeWV9XHJcbiAgICAgICAgc2tlbGV0b249e25vZGVzLkV5ZVJpZ2h0LnNrZWxldG9ufVxyXG4gICAgICAgIG1vcnBoVGFyZ2V0RGljdGlvbmFyeT17bm9kZXMuRXllUmlnaHQubW9ycGhUYXJnZXREaWN0aW9uYXJ5fVxyXG4gICAgICAgIG1vcnBoVGFyZ2V0SW5mbHVlbmNlcz17bm9kZXMuRXllUmlnaHQubW9ycGhUYXJnZXRJbmZsdWVuY2VzfVxyXG4gICAgICAvPlxyXG4gICAgICA8c2tpbm5lZE1lc2hcclxuICAgICAgICBuYW1lPVwiV29sZjNEX0hlYWRcIlxyXG4gICAgICAgIGdlb21ldHJ5PXtub2Rlcy5Xb2xmM0RfSGVhZC5nZW9tZXRyeX1cclxuICAgICAgICBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9Ta2lufVxyXG4gICAgICAgIHNrZWxldG9uPXtub2Rlcy5Xb2xmM0RfSGVhZC5za2VsZXRvbn1cclxuICAgICAgICBtb3JwaFRhcmdldERpY3Rpb25hcnk9e25vZGVzLldvbGYzRF9IZWFkLm1vcnBoVGFyZ2V0RGljdGlvbmFyeX1cclxuICAgICAgICBtb3JwaFRhcmdldEluZmx1ZW5jZXM9e25vZGVzLldvbGYzRF9IZWFkLm1vcnBoVGFyZ2V0SW5mbHVlbmNlc31cclxuICAgICAgLz5cclxuICAgICAgPHNraW5uZWRNZXNoXHJcbiAgICAgICAgbmFtZT1cIldvbGYzRF9UZWV0aFwiXHJcbiAgICAgICAgZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9UZWV0aC5nZW9tZXRyeX1cclxuICAgICAgICBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9UZWV0aH1cclxuICAgICAgICBza2VsZXRvbj17bm9kZXMuV29sZjNEX1RlZXRoLnNrZWxldG9ufVxyXG4gICAgICAgIG1vcnBoVGFyZ2V0RGljdGlvbmFyeT17bm9kZXMuV29sZjNEX1RlZXRoLm1vcnBoVGFyZ2V0RGljdGlvbmFyeX1cclxuICAgICAgICBtb3JwaFRhcmdldEluZmx1ZW5jZXM9e25vZGVzLldvbGYzRF9UZWV0aC5tb3JwaFRhcmdldEluZmx1ZW5jZXN9XHJcbiAgICAgIC8+XHJcbiAgICAgIDxza2lubmVkTWVzaCBnZW9tZXRyeT17bm9kZXMuV29sZjNEX0dsYXNzZXMuZ2VvbWV0cnl9IG1hdGVyaWFsPXttYXRlcmlhbHMuV29sZjNEX0dsYXNzZXN9IHNrZWxldG9uPXtub2Rlcy5Xb2xmM0RfR2xhc3Nlcy5za2VsZXRvbn0gLz5cclxuICAgICAgPHNraW5uZWRNZXNoIGdlb21ldHJ5PXtub2Rlcy5Xb2xmM0RfSGVhZHdlYXIuZ2VvbWV0cnl9IG1hdGVyaWFsPXttYXRlcmlhbHMuV29sZjNEX0hlYWR3ZWFyfSBza2VsZXRvbj17bm9kZXMuV29sZjNEX0hlYWR3ZWFyLnNrZWxldG9ufSAvPlxyXG4gICAgICA8c2tpbm5lZE1lc2ggZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9Cb2R5Lmdlb21ldHJ5fSBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9Cb2R5fSBza2VsZXRvbj17bm9kZXMuV29sZjNEX0JvZHkuc2tlbGV0b259IC8+XHJcbiAgICAgIDxza2lubmVkTWVzaCBnZW9tZXRyeT17bm9kZXMuV29sZjNEX091dGZpdF9Cb3R0b20uZ2VvbWV0cnl9IG1hdGVyaWFsPXttYXRlcmlhbHMuV29sZjNEX091dGZpdF9Cb3R0b219IHNrZWxldG9uPXtub2Rlcy5Xb2xmM0RfT3V0Zml0X0JvdHRvbS5za2VsZXRvbn0gLz5cclxuICAgICAgPHNraW5uZWRNZXNoIGdlb21ldHJ5PXtub2Rlcy5Xb2xmM0RfT3V0Zml0X0Zvb3R3ZWFyLmdlb21ldHJ5fSBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9PdXRmaXRfRm9vdHdlYXJ9IHNrZWxldG9uPXtub2Rlcy5Xb2xmM0RfT3V0Zml0X0Zvb3R3ZWFyLnNrZWxldG9ufSAvPlxyXG4gICAgICA8c2tpbm5lZE1lc2ggZ2VvbWV0cnk9e25vZGVzLldvbGYzRF9PdXRmaXRfVG9wLmdlb21ldHJ5fSBtYXRlcmlhbD17bWF0ZXJpYWxzLldvbGYzRF9PdXRmaXRfVG9wfSBza2VsZXRvbj17bm9kZXMuV29sZjNEX091dGZpdF9Ub3Auc2tlbGV0b259IC8+XHJcbiAgICA8L2dyb3VwPlxyXG4gICk7XHJcbn1cclxuXHJcbnVzZUdMVEYucHJlbG9hZChcIi9tb2RlbHMvYXZhdGFyLmdsYlwiKTsgIl0sIm5hbWVzIjpbInVzZUFuaW1hdGlvbnMiLCJ1c2VHTFRGIiwidXNlRnJhbWUiLCJidXR0b24iLCJ1c2VDb250cm9scyIsIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJUSFJFRSIsInVzZVNwZWVjaCIsImZhY2lhbEV4cHJlc3Npb25zIiwidmlzZW1lc01hcHBpbmciLCJtb3JwaFRhcmdldHMiLCJBdmF0YXIiLCJwcm9wcyIsIm5vZGVzIiwibWF0ZXJpYWxzIiwic2NlbmUiLCJhbmltYXRpb25zIiwibWVzc2FnZSIsIm9uTWVzc2FnZVBsYXllZCIsImxpcHN5bmMiLCJzZXRMaXBzeW5jIiwic2V0dXBNb2RlIiwic2V0U2V0dXBNb2RlIiwic2V0QW5pbWF0aW9uIiwiYW5pbWF0aW9uIiwic2V0RmFjaWFsRXhwcmVzc2lvbiIsImZhY2lhbEV4cHJlc3Npb24iLCJhdWRpbyIsIkF1ZGlvIiwicGxheSIsInNldEF1ZGlvIiwib25lbmRlZCIsImdyb3VwIiwiYWN0aW9ucyIsIm1peGVyIiwiZmluZCIsImEiLCJuYW1lIiwicmVzZXQiLCJmYWRlSW4iLCJzdGF0cyIsImluVXNlIiwiZmFkZU91dCIsImxlcnBNb3JwaFRhcmdldCIsInRhcmdldCIsInZhbHVlIiwic3BlZWQiLCJ0cmF2ZXJzZSIsImNoaWxkIiwiaXNTa2lubmVkTWVzaCIsIm1vcnBoVGFyZ2V0RGljdGlvbmFyeSIsImluZGV4IiwidW5kZWZpbmVkIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwiTWF0aFV0aWxzIiwibGVycCIsImJsaW5rIiwic2V0QmxpbmsiLCJmb3JFYWNoIiwia2V5IiwibWFwcGluZyIsImFwcGxpZWRNb3JwaFRhcmdldHMiLCJjdXJyZW50QXVkaW9UaW1lIiwiY3VycmVudFRpbWUiLCJpIiwibW91dGhDdWVzIiwibGVuZ3RoIiwibW91dGhDdWUiLCJzdGFydCIsImVuZCIsInB1c2giLCJhbXAiLCJNYXRoIiwic2luIiwiT2JqZWN0IiwidmFsdWVzIiwiaW5jbHVkZXMiLCJvcHRpb25zIiwibWFwIiwib25DaGFuZ2UiLCJrZXlzIiwibG9nTW9ycGhUYXJnZXRWYWx1ZXMiLCJlbW90aW9uVmFsdWVzIiwibm9kZSIsImNvbnNvbGUiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiYXNzaWduIiwibGFiZWwiLCJtaW4iLCJtYXgiLCJ2YWwiLCJibGlua1RpbWVvdXQiLCJuZXh0QmxpbmsiLCJzZXRUaW1lb3V0IiwicmFuZEludCIsImNsZWFyVGltZW91dCIsImRpc3Bvc2UiLCJyZWYiLCJwb3NpdGlvbiIsInByaW1pdGl2ZSIsIm9iamVjdCIsIkhpcHMiLCJza2lubmVkTWVzaCIsImdlb21ldHJ5IiwiRXllTGVmdCIsIm1hdGVyaWFsIiwiV29sZjNEX0V5ZSIsInNrZWxldG9uIiwiRXllUmlnaHQiLCJXb2xmM0RfSGVhZCIsIldvbGYzRF9Ta2luIiwiV29sZjNEX1RlZXRoIiwiV29sZjNEX0dsYXNzZXMiLCJXb2xmM0RfSGVhZHdlYXIiLCJXb2xmM0RfQm9keSIsIldvbGYzRF9PdXRmaXRfQm90dG9tIiwiV29sZjNEX091dGZpdF9Gb290d2VhciIsIldvbGYzRF9PdXRmaXRfVG9wIiwicHJlbG9hZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/Avatar.jsx\n"));

/***/ })

});